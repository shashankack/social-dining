import React from "react";
import { Box } from "@mui/material";

const GalleryCard = ({
  size = 400,
  img = "/images/dummy.jpg",
  strokeWidth = 5,
}) => {
  // Helper to get responsive width/height
  const getResponsive = (val) => {
    if (typeof val === "object" && val !== null) {
      // MUI responsive object, e.g. { xs: 200, md: 350, xs: '10vw' }
      const width = val;
      const height = {};
      for (const key in width) {
        if (typeof width[key] === "string" && width[key].endsWith("vw")) {
          // Use CSS calc for height with vw units
          height[key] = `calc(${width[key]} * 210 / 199)`;
        } else {
          height[key] = (Number(width[key]) * 210) / 199;
        }
      }
      return { width, height };
    } else if (typeof val === "string" && val.endsWith("vw")) {
      // Use CSS calc for height with vw units
      return { width: val, height: `calc(${val} * 210 / 199)` };
    } else {
      // string (px) or number
      const width = val;
      const height = (Number(val) * 210) / 199;
      return { width, height };
    }
  };
  const { width, height } = getResponsive(size);
  return (
    <Box
      sx={{
        position: "relative",
        width,
        height,
        overflow: "hidden",
        borderRadius: 2,
        cursor: "pointer",
        transition: "transform 0.3s ease",
        "&:hover": {
          transform: "scale(1.03)",
        },
        "&:hover .frame-path": {
          stroke: "#90BDF5",
        },
      }}
    >
      <Box
        component="svg"
        viewBox="0 0 199 210"
        width="100%"
        height="100%"
        style={{
          display: "block",
          position: "absolute",
          top: 0,
          left: 0,
          width: "100%",
          height: "100%",
          zIndex: 0,
        }}
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs>
          <clipPath id="gallery-clip">
            <path d="M138.507 2.49775C143.024 2.49775 147.134 3.83318 150.338 6.01728C152.469 7.47027 154.973 8.3241 157.511 8.612L157.612 8.62275L157.714 8.62665C160.642 8.71857 163.647 8.07608 166.241 6.63739L166.754 6.33857C169.827 4.46728 173.628 3.3454 177.771 3.3454C188.391 3.34555 196.332 10.5394 196.496 18.694V19.0905C196.494 19.1416 196.493 19.2056 196.49 19.3005L196.489 19.3591L196.49 19.4177C196.492 19.5307 196.495 19.5895 196.496 19.6208V19.738C196.496 23.3445 195.021 26.7094 192.451 29.4118C190.427 31.5397 189.324 34.1608 189.284 36.8737L189.282 36.9929L189.292 37.112C189.481 39.4402 190.451 41.6676 192.104 43.5466L192.443 43.9177C195.016 46.6196 196.494 49.9886 196.494 53.5974C196.494 53.7234 196.49 53.6482 196.485 53.9177L196.484 53.9616L196.485 54.0056C196.49 54.277 196.494 54.1935 196.494 54.3161C196.494 57.8438 195.079 61.1414 192.61 63.8132C190.772 65.7977 189.742 68.2156 189.627 70.7194L189.621 70.8356L189.627 70.9518C189.745 73.456 190.774 75.8703 192.608 77.8542H192.609C195.08 80.5254 196.494 83.8211 196.494 87.3522C196.494 87.475 196.49 87.3921 196.485 87.6638L196.484 87.7067L196.485 87.7507C196.49 88.0272 196.494 87.9421 196.494 88.071C196.494 91.6781 195.021 95.0431 192.452 97.7448C190.507 99.7878 189.411 102.288 189.293 104.888L189.288 105.004L189.293 105.118C189.414 107.717 190.51 110.213 192.451 112.256V112.257C195.021 114.959 196.496 118.326 196.496 121.93C196.496 122.056 196.492 121.982 196.487 122.251V122.339C196.492 122.609 196.496 122.527 196.496 122.649C196.496 126.177 195.081 129.474 192.612 132.146C190.774 134.131 189.744 136.549 189.629 139.052L189.623 139.169L189.629 139.285C189.747 141.789 190.776 144.203 192.61 146.187H192.611C195.082 148.858 196.496 152.154 196.496 155.685C196.496 155.808 196.492 155.726 196.487 155.997V156.084C196.492 156.36 196.496 156.276 196.496 156.405C196.496 159.788 195.197 162.96 192.915 165.569L192.446 166.084C190.583 168.039 189.496 170.408 189.294 172.889L189.284 173.009L189.286 173.131C189.328 175.837 190.427 178.46 192.453 180.59C195.022 183.289 196.498 186.656 196.498 190.261C196.498 190.448 196.494 190.195 196.487 190.585L196.486 190.643L196.488 190.702C196.494 190.894 196.498 190.959 196.498 191.05C196.498 199.31 188.501 206.656 177.769 206.656C173.594 206.656 169.765 205.517 166.68 203.619L166.679 203.618C164.71 202.407 162.478 201.687 160.219 201.414L160.09 201.398L159.96 201.396H159.334C156.409 201.451 153.462 202.233 150.953 203.757L150.423 204.094C147.244 206.214 143.196 207.504 138.754 207.504C134.859 207.504 131.266 206.512 128.295 204.838L127.709 204.494C122.68 201.421 115.751 201.421 110.723 204.494C107.642 206.375 103.849 207.504 99.6787 207.504C95.5081 207.504 91.685 206.367 88.6006 204.473H88.5996C83.7178 201.477 77.0413 201.383 72.0488 204.193L71.5713 204.473C68.4869 206.367 64.6639 207.504 60.4932 207.504C55.9755 207.504 51.866 206.168 48.6621 203.984C46.5308 202.531 44.0271 201.678 41.4893 201.39L41.3877 201.379L41.2861 201.376L40.6992 201.367C37.9589 201.373 35.1797 202.022 32.7588 203.365L32.2461 203.663C29.1725 205.534 25.3716 206.656 21.2295 206.656C10.4973 206.656 2.50029 199.31 2.5 191.05C2.5 190.959 2.50402 190.894 2.50977 190.702L2.51074 190.643L2.50977 190.584C2.50307 190.195 2.5 190.447 2.5 190.261C2.5 186.657 3.97388 183.291 6.54395 180.589C8.56814 178.461 9.67247 175.841 9.71191 173.129L9.71289 173.008L9.70312 172.889C9.50137 170.406 8.41131 168.038 6.55273 166.085L6.55176 166.084C3.97885 163.382 2.50207 160.013 2.50195 156.405C2.50195 156.279 2.50506 156.353 2.50977 156.085L2.51074 156.041L2.50977 155.997C2.50494 155.726 2.50195 155.807 2.50195 155.685C2.50206 152.157 3.91758 148.858 6.3877 146.186L6.38672 146.185C8.22338 144.201 9.25378 141.786 9.36914 139.283L9.375 139.166L9.36914 139.05C9.25109 136.545 8.22136 134.132 6.38672 132.148V132.147C3.91559 129.476 2.50195 126.18 2.50195 122.649C2.50196 122.527 2.50494 122.609 2.50977 122.339L2.51074 122.295L2.50977 122.251C2.50502 121.975 2.50195 122.059 2.50195 121.93C2.50196 118.323 3.97465 114.957 6.54395 112.256C8.4885 110.213 9.58523 107.714 9.70312 105.113L9.70801 104.999L9.70312 104.883C9.58992 102.447 8.62005 100.1 6.89941 98.1335L6.54492 97.7458C3.97507 95.0434 2.5 91.6758 2.5 88.071C2.50001 87.9461 2.50312 88.0196 2.50781 87.7517L2.50879 87.7077L2.50781 87.6628C2.50299 87.3927 2.5 87.4743 2.5 87.3522C2.50008 83.8237 3.91561 80.5253 6.38574 77.8532L6.38477 77.8522C8.22122 75.8684 9.25194 73.4544 9.36719 70.9489L9.37207 70.8327L9.36719 70.7165C9.24916 68.2125 8.21939 65.7989 6.38477 63.8151V63.8142L5.93359 63.3063C3.74211 60.7302 2.5 57.6266 2.5 54.3161C2.5 54.1941 2.50299 54.276 2.50781 54.0056L2.50879 53.9616L2.50781 53.9177C2.50307 53.6423 2.5 53.7261 2.5 53.5974C2.5 50.2143 3.79828 47.0427 6.08203 44.4333L6.55176 43.9186C8.41468 41.9633 9.50153 39.5938 9.70312 37.112L9.71289 36.9919L9.71094 36.8708C9.66877 34.164 8.56996 31.5413 6.54395 29.4118C3.97498 26.7121 2.50012 23.3456 2.5 19.7409C2.5 19.5546 2.50307 19.8068 2.50977 19.4177L2.51074 19.3591L2.50977 19.3005C2.50402 19.1077 2.5 19.0438 2.5 18.9518C2.5 10.6918 10.4969 3.34562 21.2314 3.3454C25.4063 3.3454 29.235 4.48491 32.3203 6.38349H32.3213C34.2899 7.5941 36.5223 8.31526 38.7812 8.58857L38.9102 8.60419L39.04 8.60614C42.3767 8.66237 45.7842 7.7684 48.5771 5.90693C51.7559 3.78755 55.8043 2.49776 60.2461 2.49775C64.401 2.49775 68.2114 3.6266 71.291 5.50751C76.3196 8.58014 83.2466 8.57974 88.2754 5.50751L88.2764 5.50849C91.3568 3.62701 95.1504 2.4978 99.3213 2.49775C103.492 2.49775 107.315 3.6346 110.399 5.52802H110.4C115.282 8.52442 121.959 8.61897 126.951 5.80927L127.429 5.52802C130.513 3.63451 134.336 2.49775 138.507 2.49775Z" />
          </clipPath>
        </defs>
        <image
          href={img}
          width="199"
          height="210"
          preserveAspectRatio="xMidYMid slice"
          clipPath="url(#gallery-clip)"
        />
        <path
          className="frame-path"
          d="M138.507 2.49775C143.024 2.49775 147.134 3.83318 150.338 6.01728C152.469 7.47027 154.973 8.3241 157.511 8.612L157.612 8.62275L157.714 8.62665C160.642 8.71857 163.647 8.07608 166.241 6.63739L166.754 6.33857C169.827 4.46728 173.628 3.3454 177.771 3.3454C188.391 3.34555 196.332 10.5394 196.496 18.694V19.0905C196.494 19.1416 196.493 19.2056 196.49 19.3005L196.489 19.3591L196.49 19.4177C196.492 19.5307 196.495 19.5895 196.496 19.6208V19.738C196.496 23.3445 195.021 26.7094 192.451 29.4118C190.427 31.5397 189.324 34.1608 189.284 36.8737L189.282 36.9929L189.292 37.112C189.481 39.4402 190.451 41.6676 192.104 43.5466L192.443 43.9177C195.016 46.6196 196.494 49.9886 196.494 53.5974C196.494 53.7234 196.49 53.6482 196.485 53.9177L196.484 53.9616L196.485 54.0056C196.49 54.277 196.494 54.1935 196.494 54.3161C196.494 57.8438 195.079 61.1414 192.61 63.8132C190.772 65.7977 189.742 68.2156 189.627 70.7194L189.621 70.8356L189.627 70.9518C189.745 73.456 190.774 75.8703 192.608 77.8542H192.609C195.08 80.5254 196.494 83.8211 196.494 87.3522C196.494 87.475 196.49 87.3921 196.485 87.6638L196.484 87.7067L196.485 87.7507C196.49 88.0272 196.494 87.9421 196.494 88.071C196.494 91.6781 195.021 95.0431 192.452 97.7448C190.507 99.7878 189.411 102.288 189.293 104.888L189.288 105.004L189.293 105.118C189.414 107.717 190.51 110.213 192.451 112.256V112.257C195.021 114.959 196.496 118.326 196.496 121.93C196.496 122.056 196.492 121.982 196.487 122.251V122.339C196.492 122.609 196.496 122.527 196.496 122.649C196.496 126.177 195.081 129.474 192.612 132.146C190.774 134.131 189.744 136.549 189.629 139.052L189.623 139.169L189.629 139.285C189.747 141.789 190.776 144.203 192.61 146.187H192.611C195.082 148.858 196.496 152.154 196.496 155.685C196.496 155.808 196.492 155.726 196.487 155.997V156.084C196.492 156.36 196.496 156.276 196.496 156.405C196.496 159.788 195.197 162.96 192.915 165.569L192.446 166.084C190.583 168.039 189.496 170.408 189.294 172.889L189.284 173.009L189.286 173.131C189.328 175.837 190.427 178.46 192.453 180.59C195.022 183.289 196.498 186.656 196.498 190.261C196.498 190.448 196.494 190.195 196.487 190.585L196.486 190.643L196.488 190.702C196.494 190.894 196.498 190.959 196.498 191.05C196.498 199.31 188.501 206.656 177.769 206.656C173.594 206.656 169.765 205.517 166.68 203.619L166.679 203.618C164.71 202.407 162.478 201.687 160.219 201.414L160.09 201.398L159.96 201.396H159.334C156.409 201.451 153.462 202.233 150.953 203.757L150.423 204.094C147.244 206.214 143.196 207.504 138.754 207.504C134.859 207.504 131.266 206.512 128.295 204.838L127.709 204.494C122.68 201.421 115.751 201.421 110.723 204.494C107.642 206.375 103.849 207.504 99.6787 207.504C95.5081 207.504 91.685 206.367 88.6006 204.473H88.5996C83.7178 201.477 77.0413 201.383 72.0488 204.193L71.5713 204.473C68.4869 206.367 64.6639 207.504 60.4932 207.504C55.9755 207.504 51.866 206.168 48.6621 203.984C46.5308 202.531 44.0271 201.678 41.4893 201.39L41.3877 201.379L41.2861 201.376L40.6992 201.367C37.9589 201.373 35.1797 202.022 32.7588 203.365L32.2461 203.663C29.1725 205.534 25.3716 206.656 21.2295 206.656C10.4973 206.656 2.50029 199.31 2.5 191.05C2.5 190.959 2.50402 190.894 2.50977 190.702L2.51074 190.643L2.50977 190.584C2.50307 190.195 2.5 190.447 2.5 190.261C2.5 186.657 3.97388 183.291 6.54395 180.589C8.56814 178.461 9.67247 175.841 9.71191 173.129L9.71289 173.008L9.70312 172.889C9.50137 170.406 8.41131 168.038 6.55273 166.085L6.55176 166.084C3.97885 163.382 2.50207 160.013 2.50195 156.405C2.50195 156.279 2.50506 156.353 2.50977 156.085L2.51074 156.041L2.50977 155.997C2.50494 155.726 2.50195 155.807 2.50195 155.685C2.50206 152.157 3.91758 148.858 6.3877 146.186L6.38672 146.185C8.22338 144.201 9.25378 141.786 9.36914 139.283L9.375 139.166L9.36914 139.05C9.25109 136.545 8.22136 134.132 6.38672 132.148V132.147C3.91559 129.476 2.50195 126.18 2.50195 122.649C2.50196 122.527 2.50494 122.609 2.50977 122.339L2.51074 122.295L2.50977 122.251C2.50502 121.975 2.50195 122.059 2.50195 121.93C2.50196 118.323 3.97465 114.957 6.54395 112.256C8.4885 110.213 9.58523 107.714 9.70312 105.113L9.70801 104.999L9.70312 104.883C9.58992 102.447 8.62005 100.1 6.89941 98.1335L6.54492 97.7458C3.97507 95.0434 2.5 91.6758 2.5 88.071C2.50001 87.9461 2.50312 88.0196 2.50781 87.7517L2.50879 87.7077L2.50781 87.6628C2.50299 87.3927 2.5 87.4743 2.5 87.3522C2.50008 83.8237 3.91561 80.5253 6.38574 77.8532L6.38477 77.8522C8.22122 75.8684 9.25194 73.4544 9.36719 70.9489L9.37207 70.8327L9.36719 70.7165C9.24916 68.2125 8.21939 65.7989 6.38477 63.8151V63.8142L5.93359 63.3063C3.74211 60.7302 2.5 57.6266 2.5 54.3161C2.5 54.1941 2.50299 54.276 2.50781 54.0056L2.50879 53.9616L2.50781 53.9177C2.50307 53.6423 2.5 53.7261 2.5 53.5974C2.5 50.2143 3.79828 47.0427 6.08203 44.4333L6.55176 43.9186C8.41468 41.9633 9.50153 39.5938 9.70312 37.112L9.71289 36.9919L9.71094 36.8708C9.66877 34.164 8.56996 31.5413 6.54395 29.4118C3.97498 26.7121 2.50012 23.3456 2.5 19.7409C2.5 19.5546 2.50307 19.8068 2.50977 19.4177L2.51074 19.3591L2.50977 19.3005C2.50402 19.1077 2.5 19.0438 2.5 18.9518C2.5 10.6918 10.4969 3.34562 21.2314 3.3454C25.4063 3.3454 29.235 4.48491 32.3203 6.38349H32.3213C34.2899 7.5941 36.5223 8.31526 38.7812 8.58857L38.9102 8.60419L39.04 8.60614C42.3767 8.66237 45.7842 7.7684 48.5771 5.90693C51.7559 3.78755 55.8043 2.49776 60.2461 2.49775C64.401 2.49775 68.2114 3.6266 71.291 5.50751C76.3196 8.58014 83.2466 8.57974 88.2754 5.50751L88.2764 5.50849C91.3568 3.62701 95.1504 2.4978 99.3213 2.49775C103.492 2.49775 107.315 3.6346 110.399 5.52802H110.4C115.282 8.52442 121.959 8.61897 126.951 5.80927L127.429 5.52802C130.513 3.63451 134.336 2.49775 138.507 2.49775Z"
          stroke="#E25517"
          strokeWidth={strokeWidth}
          fill="transparent"
          style={{ transition: "stroke 0.3s ease" }}
        />
      </Box>
    </Box>
  );
};

export default GalleryCard;
